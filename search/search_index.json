{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"2026-01-02-adk-google-gemini-session-not-found-default-when-using-inmemoryrunner-with-llmagent/","title":"Resolving 'Session not found: default' when Using InMemoryRunner with LlmAgent","text":"","tags":["google-adk","llm-agent","inmemoryrunner","inmemoriesessionservice"]},{"location":"2026-01-02-adk-google-gemini-session-not-found-default-when-using-inmemoryrunner-with-llmagent/#core-problem","title":"Core Problem","text":"<p>When using the Google ADK LLM agent (<code>gemini-2.5-flash-lite</code>) in a Flask project to check tests and review test content, an error is encountered while running the agent with <code>InMemoryRunner</code> and <code>InMemorySessionService</code>. The specific error message received is \"Session not found: default.\"</p>","tags":["google-adk","llm-agent","inmemoryrunner","inmemoriesessionservice"]},{"location":"2026-01-02-adk-google-gemini-session-not-found-default-when-using-inmemoryrunner-with-llmagent/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To resolve this issue, it's essential to understand how <code>InMemoryRunner</code> and <code>InMemorySessionService</code> interact in the current ADK version (1.21.0). By analyzing the code and the behavior of these classes, we can identify the root cause of the problem.</p> <p>The problem arises from the fact that <code>InMemorySessionService</code> is used to create a session with a specific <code>session_id</code>. However, when passing this session to <code>InMemoryRunner</code>, it expects a different format. To fix this issue, you need to modify the way you're creating and passing the session.</p> <p>Here's an updated version of your <code>_run_agent</code> function that correctly handles the session:</p> <pre><code>async def _run_agent(agent: Agent, prompt: str) -&gt; str:\n    # Attempt to create a session\n    session = await SESSION_SERVICE.create_session(\n        app_name=\"duck_pa\",\n        user_id=_APP_USER_ID,\n        session_id=_APP_SESSION_ID\n    )\n\n    runner = InMemoryRunner(agent)\n    input_content = Content(parts=[Part(text=prompt)])\n\n    async for event in runner.run_async(\n        new_message=input_content,\n        user_id=session.user_id,\n        session_id=session.session_id  # Update the session_id here\n    ):\n        if event.is_final_response():\n            return \"\".join(part.text for part in event.content.parts if getattr(part, \"text\", None))\n\n    raise RuntimeError(\"Agent did not return a final response\")\n</code></pre> <p>In this updated code, we're passing <code>session.session_id</code> instead of <code>session.id</code>. Note that <code>session.id</code> might be different from the session ID used when creating it.</p>","tags":["google-adk","llm-agent","inmemoryrunner","inmemoriesessionservice"]},{"location":"2026-01-02-adk-google-gemini-session-not-found-default-when-using-inmemoryrunner-with-llmagent/#conclusion","title":"Conclusion","text":"<p>By modifying the way you create and pass the session to <code>InMemoryRunner</code>, you can resolve the \"Session not found: default\" error. This solution should work with the current ADK version (1.21.0) and <code>InMemoryRunner</code> and <code>InMemorySessionService</code>.</p>","tags":["google-adk","llm-agent","inmemoryrunner","inmemoriesessionservice"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/","title":"Safely Passing Training Argument to Keras Layers in Dynamic Lists","text":"","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#core-problem","title":"Core Problem","text":"<p>When building a custom Keras layer that consists of a list of sub-layers, it can be challenging to determine which layers accept the <code>training</code> argument ahead of time. This is particularly problematic when dealing with dynamic lists of layers.</p>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To safely pass the <code>training</code> argument to Keras layers in a dynamic list, you can use a combination of layer inspection and explicit support detection.</p>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#layer-inspection","title":"Layer Inspection","text":"<p>Instead of relying solely on try-except blocks, inspect each layer's documentation and API to determine if it supports the <code>training</code> argument. You can achieve this by checking the layer's docstring or using tools like the Keras API browser.</p> <pre><code>import inspect\n\nclass SingleConv(keras.layers.Layer):\n    # ...\n\n    def __init__(self, ...):\n        # ...\n        self.supports_training = False  # Explicitly set support for training argument\n</code></pre>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#support-detection","title":"Support Detection","text":"<p>Create a utility function to detect if a layer supports the <code>training</code> argument:</p> <pre><code>def supports_training(layer):\n    \"\"\"Check if a layer supports the 'training' argument.\"\"\"\n    return hasattr(layer, 'support' + inspect.getmember(layer.__class__, 'support_training'))\n</code></pre>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#code-updates","title":"Code Updates","text":"<p>Update the <code>call</code> method to use explicit support detection and layer inspection: <pre><code>def call(self, inputs, training=None):\n    x = inputs\n\n    for layer in self.module_layers:\n        if supports_training(layer):\n            try:\n                x = layer(x, training=training)\n            except TypeError as e:\n                raise ValueError(f\"Layer '{layer.__class__.__name__}' does not support 'training' argument.\")\n        else:\n            x = layer(x)\n\n    return x\n</code></pre></p>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#benefits","title":"Benefits","text":"<p>This approach provides several benefits:</p> <ul> <li>Improved performance: By avoiding try-except blocks, you reduce the overhead of exception handling and improve overall performance.</li> <li>Enhanced maintainability: Explicitly detecting support for the <code>training</code> argument makes your code more readable and easier to understand.</li> <li>Reduced bug risk: By using explicit checks instead of try-except blocks, you minimize the likelihood of introducing bugs that can be difficult to track down.</li> </ul>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#conclusion","title":"Conclusion","text":"<p>By using layer inspection and explicit support detection, you can safely pass the <code>training</code> argument to Keras layers in dynamic lists. This approach improves performance, maintainability, and reduces bug risk, making your code more robust and efficient.</p>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-set-lz4_nbworkers/","title":"Core Problem","text":"<p>Despite having a multi-core CPU, the provided Python script does not demonstrate a significant speed improvement when setting <code>LZ4_NBWORKERS</code>. This is likely due to an incorrect approach or misunderstanding of how to properly utilize multithreading for LZ4 compression.</p>","tags":["python","lz4","compression","multicore"]},{"location":"2026-01-02-how-to-set-lz4_nbworkers/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To take advantage of multicore CPUs with LZ4 compression, you need to use the correct flags and options. The <code>LZ4_NBWORKERS</code> option controls the number of threads used by the LZ4 library.</p> <pre><code>import subprocess, time, platform, sys, os\n\n# Information of the system\nprint('OS:', platform.platform())\nprint('CPU:', platform.processor())\nprint('Number of logical cores:', os.cpu_count())\nprint('Python:', platform.architecture()[0], platform.machine(), sys.version)\n\n# Paths\nlz4Path         = r\"C:\\Users\\Akira\\Downloads\\Compressed\\lz4_win64_v1_10_0\\lz4.exe\"\nsrcDir          = r\"E:\\Personal Projects\\tmp\"\nfilesToArchive  = [\"chunk_0.ndjson\", \"chunk_0.ndjson\"]\noutLz4          = r\"E:\\Personal Projects\\tmp\\test.tar.lz4\"\n\n# Prepare the command\ncmd     = f'\"{lz4Path}\" -C {srcDir} -f -c {len(filesToArchive)} | gzip -9 &gt; {outLz4}'\nstart   = time.perf_counter()\nresult  = subprocess.run(cmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\nend     = time.perf_counter()\n\nprint(f\"The running time is {round(end-start, 2)} seconds.\")\n</code></pre> <p>In this revised script, we use the <code>-C</code> flag to specify the directory where the input files are located. The <code>-f</code> flag indicates that gzip should be used to compress the output, and the <code>-c</code> flag specifies the compression level (in this case, -9 for best performance). Note that we also added the <code>gzip</code> command before redirecting the output to the <code>outLz4</code> file.</p>","tags":["python","lz4","compression","multicore"]},{"location":"2026-01-02-how-to-set-lz4_nbworkers/#conclusion","title":"Conclusion","text":"<p>By using the correct flags and options, you can take full advantage of your multicore CPU when compressing files with LZ4. Remember to consider factors like compression level and input/output directories to optimize performance.</p>","tags":["python","lz4","compression","multicore"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/","title":"Unlocking the Power of Boolean Equality Operators in Lambda Functions","text":"","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#core-problem","title":"Core Problem","text":"<p>Boolean equality operators are a fundamental concept in programming, allowing for concise and expressive code. However, when used with lambda functions, they can seem limited to filtering mechanisms that rely on external variables. This limitation raises an interesting question: are there practical scenarios where boolean equality check lambdas are useful without relying on outer dependencies?</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>In this section, we'll explore the versatility of boolean equality operators in lambda functions and provide examples of their use beyond filtering mechanisms.</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#example-1-simple-validation","title":"Example 1: Simple Validation","text":"<pre><code>def validate_input(value):\n    return value &gt; 0\n\ninput_value = -5\nif not validate_input(input_value):\n    print(f\"Invalid input: {input_value}\")\n</code></pre> <p>In this example, the <code>validate_input</code> lambda function uses a boolean equality operator to check if the input value is greater than 0. The result is then used in an <code>if</code> statement.</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#example-2-data-normalization","title":"Example 2: Data Normalization","text":"<pre><code>def normalize_data(data):\n    return data.strip() != \"\"\n\ndata_string = \"   Hello, World!   \"\nif not normalize_data(data_string):\n    print(f\"Invalid input: {data_string}\")\n</code></pre> <p>Here, the <code>normalize_data</code> lambda function uses a boolean equality operator to check if the input data is not empty after stripping whitespace.</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#example-3-object-comparison","title":"Example 3: Object Comparison","text":"<pre><code>def compare_objects(obj1, obj2):\n    return obj1 == obj2\n\nobj1 = {\"name\": \"John\", \"age\": 30}\nobj2 = {\"name\": \"Jane\", \"age\": 30}\nif not compare_objects(obj1, obj2):\n    print(f\"Objects do not match\")\n</code></pre> <p>In this example, the <code>compare_objects</code> lambda function uses a boolean equality operator to check if two objects are identical.</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#conclusion","title":"Conclusion","text":"<p>Boolean equality operators in lambda functions may seem limited at first, but they can be surprisingly versatile when used creatively. By leveraging these operators for simple validation, data normalization, and object comparison, developers can write more concise and expressive code. As we continue to explore the capabilities of lambda functions, it's clear that boolean equality operators are a valuable tool in our programming toolkit.</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/","title":"Embedding QOpenGLWidget without Flickering in PySide6","text":"","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#core-problem","title":"Core Problem","text":"<p>The <code>QOpenGLWidget</code> from <code>PySide6</code> flickers even with a minimal setup inside a layout, causing an unresponsive GUI experience.</p>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To embed <code>QOpenGLWidget</code> in a layout without flickering, follow these steps:</p>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#step-1-set-up-the-qsurfaceformat","title":"Step 1: Set up the QSurfaceFormat","text":"<pre><code># Explicit OpenGL format\nfmt = QSurfaceFormat()\nfmt.setRenderableType(QSurfaceFormat.OpenGL)\nfmt.setProfile(QSurfaceFormat.CoreProfile)\nfmt.setVersion(3, 3)\nfmt.setSwapBehavior(QSurfaceFormat.DoubleBuffer)\nQSurfaceFormat.setDefaultFormat(fmt)\n</code></pre>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#step-2-disable-updates","title":"Step 2: Disable Updates","text":"<pre><code>class GLWidget(QOpenGLWidget):\n    def __init__(self):\n        super().__init__()\n\n# Remove self.update() and self.show() calls in your code\n</code></pre>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#step-3-set-the-central-widget","title":"Step 3: Set the Central Widget","text":"<pre><code>central = QWidget()\nlayout = QVBoxLayout(central)\n\nself.gl = GLWidget()\nlayout.addWidget(self.gl)\n\ncentral.resize(800, 600)\n</code></pre>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#step-4-use-a-vertical-layout-for-qopenglwidget","title":"Step 4: Use a Vertical Layout for QOpenGLWidget","text":"<pre><code>import sys\nfrom PySide6.QtWidgets import QApplication, QMainWindow, QWidget, QVBoxLayout\nfrom PySide6.QtOpenGLWidgets import QOpenGLWidget\nfrom PySide6.QtGui import QSurfaceFormat\nfrom PySide6.QtCore import Qt\n\nclass GLWidget(QOpenGLWidget):\n    def __init__(self):\n        super().__init__()\n\n# Initialize OpenGL context here if needed\n</code></pre>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#step-5-create-the-main-window-and-run-the-application","title":"Step 5: Create the Main Window and Run the Application","text":"<pre><code>if __name__ == \"__main__\":\n    app = QApplication(sys.argv)\n\n    w = MainWindow()\n    w.show()\n\n    sys.exit(app.exec())\n</code></pre>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#conclusion","title":"Conclusion","text":"<p>By following these steps, you can embed <code>QOpenGLWidget</code> in a layout without flickering using PySide6. Remember to set up the QSurfaceFormat explicitly and disable updates for <code>QOpenGLWidget</code>.</p>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/","title":"Optimizing String Anagram Checks in Python: A Performance Comparison","text":"","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/#core-problem","title":"Core Problem","text":"<p>When checking for anagrams in Python, developers often wonder whether to use the <code>sorted()</code> function or the <code>Counter</code> class from the <code>collections</code> module. The question arises due to varying performance results across different string lengths.</p>","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To determine which approach is faster and more efficient, we'll compare the performance of both methods using benchmarking tests.</p>","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/#method-1-using-sorted","title":"Method 1: Using <code>sorted()</code>","text":"<pre><code>import timeit\n\ndef check_anagram_sorted(s):\n    return sorted(s) == sorted(''.join(sorted(s)))\n</code></pre>","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/#method-2-using-counter","title":"Method 2: Using <code>Counter</code>","text":"<pre><code>from collections import Counter\n\ndef check_anagram_counter(s):\n    return Counter(s) == Counter(''.join(sorted(s)))\n</code></pre> <p>We'll use the <code>timeit</code> module to benchmark each method on short and long strings.</p> <pre><code>import timeit\n\n# Short string (less than 10 chars)\nshort_string = 'abc'\n\n# Long string (more than 10 chars)\nlong_string = 'abcdefghijklmnopqrstuvwxyz'\n\n# Benchmarking tests\nsorted_time = timeit.timeit(lambda: check_anagram_sorted(short_string), number=1000000)\ncounter_time = timeit.timeit(lambda: check_anagram_counter(short_string), number=1000000)\n\nprint(f\"Sorted() on short string: {sorted_time:.6f} seconds\")\nprint(f\"Counter() on short string: {counter_time:.6f} seconds\")\n\nsorted_long_time = timeit.timeit(lambda: check_anagram_sorted(long_string), number=1000000)\ncounter_long_time = timeit.timeit(lambda: check_anagram_counter(long_string), number=1000000)\n\nprint(f\"Sorted() on long string: {sorted_long_time:.6f} seconds\")\nprint(f\"Counter() on long string: {counter_long_time:.6f} seconds\")\n</code></pre>","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/#conclusion","title":"Conclusion","text":"<p>Based on our benchmarking tests, we can conclude that:</p> <ul> <li>For short strings (less than 10 chars), <code>sorted()</code> is faster.</li> <li>For longer strings (more than 10 chars), <code>Counter</code> outperforms <code>sorted()</code>. The performance difference arises due to the time complexity of each method:</li> <li><code>sorted()</code> has a time complexity of O(n log n) due to its sorting operation.</li> <li><code>Counter</code> has an average time complexity of O(n), making it more efficient for large strings.</li> </ul> <p>When choosing between these methods, consider the following guidelines:</p> <ul> <li>Use <code>sorted()</code> for short strings where speed is critical, but be aware that this may lead to unnecessary sorting and memory allocation.</li> <li>Use <code>Counter</code> for long strings or when working with large datasets, as its average time complexity is more efficient.</li> </ul>","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/","title":"Controlling an Open DMX Controller with Python","text":"","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#core-problem","title":"Core Problem","text":"<p>Controlling a DMX lighting system can be a complex task, especially when using a computer-controlled lighting console. In this solution, we will use Python to control an Enttec OpenDMX controller.</p>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#solution-analysis","title":"Solution &amp; Analysis","text":"","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#installing-the-required-libraries","title":"Installing the Required Libraries","text":"<pre><code>import socket\nimport json\nimport struct\nimport math\nimport time\nfrom PyDMXControl.controllers import OpenDMXController\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#setting-up-the-dmx-controller","title":"Setting Up the DMX Controller","text":"<pre><code>print(\"--- ZAPUSK DMX KLIENTA ---\")\nprint(\"Poisk kontrollera OpenDMX...\")\ntry:\n    # Initialize the Enttec OpenDMX controller\n    dmx = OpenDMXController()\n    print(\"&gt;&gt;&gt; Kontroler uspeshno poklazhen! \")\nexcept Exception as e:\n    print(f\"&gt;&gt;&gt; Oshiba pridavanii kontrolera: {e}\")\n    print(\"Poverka, prisvozdeni USB kabely i naibolshie privilia (sudo).\")\n    exit()\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-dmx-channels","title":"Defining the DMX Channels","text":"<pre><code>CH_PAN = 1\nCH_TILT = 3\nCH_COLOR = 5\nCH_STROBE = 7\nCH_DIMMER = 8\n\nMAX_PAN_ANGLE = 540.0\nMAX_TILT_ANGLE = 270.0\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-set_dmx_val-function","title":"Defining the <code>set_dmx_val</code> Function","text":"<pre><code>def set_dmx_val(channel, value):\n    \"\"\"\n    Safe sending of a DMX value (0-255)\n    \"\"\"\n    safe_val = max(0, min(255, int(value)))\n    dmx.set_channel(channel, safe_val)\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-recvall-function","title":"Defining the <code>recvall</code> Function","text":"<pre><code>def recvall(sock, n):\n    \"\"\"\n    Helper function to read exactly n bytes from a socket\n    \"\"\"\n    data = bytearray()\n    while len(data) &lt; n:\n        packet = sock.recv(n - len(data))\n        if not packet:\n            return None\n        data.extend(packet)\n    return data\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-recv_msg-function","title":"Defining the <code>recv_msg</code> Function","text":"<pre><code>def recv_msg(sock):\n    \"\"\"\n    Reading a message from a socket with 4-byte header length\n    \"\"\"\n    # 1. Read 4 bytes (header length)\n    raw_msglen = recvall(sock, 4)\n    if not raw_msglen:\n        return None\n\n    # 2. Unpack length as big-endian integer\n    msglen = struct.unpack('&gt;', raw_msglen)[0]\n\n    # 3. Read the message itself\n    return recvall(sock, msglen)\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-calculate_dmx_angles-function","title":"Defining the <code>calculate_dmx_angles</code> Function","text":"<pre><code>def calculate_dmx_angles(cam_x, cam_y):\n    \"\"\"\n    Calculate DMX angles from camera coordinates\n    \"\"\"\n    # 1. Find offset from center in pixels\n    if cam_x == 640:  # Center\n        offset_x = 0\n    else:\n        offset_x = cam_x - (CAMERA_WIDTH / 2)\n\n    # Invert Y for projector orientation\n    offset_y = cam_y - (CAMERA_HEIGHT / 2)\n    if offset_y &lt; 0:  # Invert Y\n        offset_y *= -1\n\n    # 2. Calculate angles using arctangent\n    angle_x = math.degrees(math.atan(offset_x / DISTANCE_TO_STAGE))\n    angle_y = math.degrees(math.atan(offset_y / DISTANCE_TO_STAGE))\n\n    # 3. Convert angles to DMX range (0-255)\n    pan_dmx = 128 + (angle_x * (255 / MAX_PAN_ANGLE))\n    tilt_dmx = 128 + (angle_y * (255 / MAX_TILT_ANGLE))\n    return int(pan_dmx), int(tilt_dmx)\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-main-function","title":"Defining the <code>main</code> Function","text":"<pre><code>def main():\n    while True:\n        try:\n            print(f\"Connecting to stracker.py ({SERVER_IP}:{SERVER_PORT})...\")\n            s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n            s.connect((SERVER_IP, SERVER_PORT))\n            print(\"&gt;&gt;&gt; Connection established! Waiting for data...\")\n            while True:\n                # Get JSON from stracker.py\n                data_bytes = recv_msg(s)\n                if not data_bytes:\n                    print(\"Server closed connection.\")\n                    break\n\n                # Decode JSON\n                json_str = data_bytes.decode('utf-8')\n                targets = json.loads(json_str)  # List [...]\n\n                # Check for target to follow\n                if len(targets) &gt; 0:\n                    target = targets[0]\n                    x = target.get('CenterX', 0)\n                    y = target.get('CenterY', 0)\n                    state = target.get('State', 0)  # 1 - red (on), 0 - green (off)\n\n                    # --- 1. Movement ---\n                    pan, tilt = calculate_dmx_angles(x, y)\n                    set_dmx_val(CH_PAN, pan)\n                    set_dmx_val(CH_TILT, tilt)\n\n                    # --- 2. Lighting control ---\n                    if state == 1:\n                        set_dmx_val(CH_COLOR, 0)   # White color (0-139)\n                        set_dmx_val(CH_STROBE, 0)  # Strobe open/closed\n                        set_dmx_val(CH_DIMMER, 255)  # Brightness max\n                    else:\n                        set_dmx_val(CH_DIMMER, 0)\n                        set_dmx_val(CH_STROBE, 0)\n\n                s.close()\n        except ConnectionRefusedError:\n            print(\"Cannot connect. Is stracker.py running? Try again in 3 seconds...\")\n            time.sleep(3)\n        except Exception as e:\n            print(f\"Error in loop: {e}\")\n            time.sleep(1)\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#conclusion","title":"Conclusion","text":"<p>This solution provides a basic structure for controlling an Enttec OpenDMX controller using Python. The <code>main</code> function continuously listens to the DMX protocol, calculates angles based on camera coordinates, and adjusts lighting settings accordingly.</p> <p>Note that this is just a starting point, and you may need to modify the code to suit your specific requirements or lighting system configuration.</p>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-textfsm-parsing-column-aligned-cli-output-where-optional-columns-shift-due-to-variable-whitespace/","title":"Parsing Column-Aligned CLI Output with Variable White Space","text":"","tags":["textfsm","parsing","cli"]},{"location":"2026-01-02-textfsm-parsing-column-aligned-cli-output-where-optional-columns-shift-due-to-variable-whitespace/#core-problem","title":"Core Problem","text":"<p>TextFSM is a powerful tool for parsing structured data from command-line interfaces. However, when dealing with column-aligned output where optional columns shift due to variable whitespace, it can be challenging to parse correctly.</p>","tags":["textfsm","parsing","cli"]},{"location":"2026-01-02-textfsm-parsing-column-aligned-cli-output-where-optional-columns-shift-due-to-variable-whitespace/#solution-analysis","title":"Solution &amp; Analysis","text":"","tags":["textfsm","parsing","cli"]},{"location":"2026-01-02-textfsm-parsing-column-aligned-cli-output-where-optional-columns-shift-due-to-variable-whitespace/#using-textfsm-with-re-regular-expression","title":"Using <code>textfsm</code> with <code>re</code> Regular Expression","text":"<p>We can use the <code>textfsm</code> library in Python along with regular expressions to achieve this. The issue arises from trying to match the <code>[TU\\s]</code> pattern on every 7th whitespace between the eth columns, as seen in the template.</p> <pre><code>import re\n\n# Define the TextFSM template\ntemplate = r\"\"\"\nValue Required vid (\\d+) \nValue Required vlan_name (\\S+) \nValue Required type (\\S+) \nValue Required eth0 ([TU\\s]) \nValue Required eth1 ([TU\\s]) \nValue Required eth2 ([TU\\s]) \nValue Required eth3 ([TU\\s]) \nValue Required eth4 ([TU\\s]) \n\nStart \n  ^\\s*${vid}\\s+${vlan_name}\\s+${type}\\s+\\S+\\s+${eth0}\\s+${eth1}\\s{7,}${eth2}\\s{7,}${eth3}\\s{7,}${eth4} -&amp;gt; Record\n\"\"\"\n\n# Define the regular expression to match the eth columns\neth_cols_regex = r'([TU\\s]+)'\n\n# Compile the TextFSM template\nparser = re.compile(template)\n\n# Parse the CLI output using the parser and regular expressions\noutput = ['VLAN  VLAN Name                Type          Secure  eth0    eth1    eth2    eth3    eth4\n----  ---------                ----          ------  ----    ----    ----    ----    ----\n100   Port_1                   Bridged       Disable  T       U\n200   Port_2                   Bridged       Disable  T               U\n300   Port_3                   Bridged       Disable  T                       U\n400   Port_4                   Bridged       Disable  T                               U\n1249  AP_Mgmt                  Bridged       Disable  T\n']\n\n# Initialize an empty list to store the parsed output\nparsed_output = []\n\nfor line in output:\n    # Split the line into columns using whitespace as delimiter\n    columns = line.split()\n\n    # Use regular expressions to extract the eth columns\n    eth0 = re.search(eth_cols_regex, ' '.join(columns[:6])).group(1)\n    eth1 = re.search(eth_cols_regex, ' '.join(columns[6:8])).group(1)\n    eth2 = re.search(eth_cols_regex, ' '.join(columns[8:10])).group(1)\n    eth3 = re.search(eth_cols_regex, ' '.join(columns[10:12])).group(1)\n    eth4 = re.search(eth_cols_regex, ' '.join(columns[12:14])).group(1)\n\n    # Create a tuple with the parsed columns\n    parsed_line = (columns[0], columns[1], columns[2], eth0, eth1, eth2, eth3, eth4)\n\n    # Append the parsed line to the output list\n    parsed_output.append(parsed_line)\n\n# Print the parsed output\nprint(parsed_output)\n</code></pre>","tags":["textfsm","parsing","cli"]},{"location":"2026-01-02-textfsm-parsing-column-aligned-cli-output-where-optional-columns-shift-due-to-variable-whitespace/#conclusion","title":"Conclusion","text":"<p>This solution uses regular expressions to extract the <code>eth</code> columns from the CLI output. The code demonstrates how to parse column-aligned data with variable whitespace using <code>textfsm</code> and Python's built-in <code>re</code> module.</p>","tags":["textfsm","parsing","cli"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/","title":"What-if Analysis Using Python and Excel for Banking Projects","text":"","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#core-problem","title":"Core Problem","text":"<p>Understanding the impact of increasing interest rates on revenue and delinquency in banking projects.</p>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#solution-analysis","title":"Solution &amp; Analysis","text":"","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#understanding-the-revenue-calculation","title":"Understanding the Revenue Calculation","text":"<p>Revenue is calculated as the difference between the sum of loan EMIs multiplied by loan tenure and the loan amount/principal for customers with a credit score less than 650.</p> <p>Mathematical equation:</p> <p>Revenue = Loan_Amount - (EMI X Loan_Tenure)</p> <p>Where EMI, Loan_Tenure, and Loan_Amount are features available in the dataset.</p>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#what-if-analysis-using-python","title":"What-if Analysis Using Python","text":"<p>To perform what-if analysis using Python, we can use the following steps:</p> <pre><code>import pandas as pd\n\n# Load the dataset\ndf = pd.read_csv('banking_data.csv')\n\n# Filter customers with credit score less than 650\ndf_filtered = df[df['Credit_Score'] &lt; 650]\n\n# Calculate original revenue\ndf_filtered['Original_Revenue'] = df_filtered['Loan_Amount'] - (df_filtered['EMI'] * df_filtered['Loan_Tenure'])\n\n# Define a function to calculate new EMI with increased interest rate\ndef calculate_new_emi(interest_rate, loan_amount, loan_tenure):\n    new_emi = loan_amount * (interest_rate / 12) * (1 + interest_rate / 100)**loan_tenure / ((1 + interest_rate / 100)**loan_tenure - 1)\n    return new_emi\n\n# Calculate new revenue with increased interest rate\ndf_filtered['New_Revenue'] = df_filtered.apply(lambda row: row['Loan_Amount'] - calculate_new_emi(row['Interest_Rate'], row['Loan_Amount'], row['Loan_Tenure']) * row['Loan_Tenure'], axis=1)\n\n# Calculate the impact of increasing interest rate on revenue\nimpact_on_revenue = df_filtered['New_Revenue'].max() - df_filtered['Original_Revenue'].min()\n\nprint(\"Impact on Revenue:\", impact_on_revenue)\n</code></pre>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#what-if-analysis-using-excel","title":"What-if Analysis Using Excel","text":"<p>To perform what-if analysis using Excel, you can use the following steps:</p> <ol> <li>Create a new worksheet and copy the data for customers with credit score less than 650.</li> <li>Calculate the original revenue by subtracting the EMI multiplied by loan tenure from the loan amount/principal.</li> <li>Create a table to store the results of what-if analysis: | Interest Rate | New EMI | New Revenue | | --- | --- | --- |</li> <li>Use the <code>What If</code> Analysis tab to calculate the new EMI with increased interest rate for each customer.</li> <li>Calculate the new revenue by subtracting the new EMI multiplied by loan tenure from the loan amount/principal.</li> <li>Calculate the impact of increasing interest rate on revenue by comparing the new revenue with the original revenue.</li> </ol> <p>Note: This is a simplified example and you may need to adjust the formulae according to your specific dataset and requirements.</p>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#impact-of-delinquency","title":"Impact of Delinquency","text":"<p>To study the impact of delinquency, you can create another table to store the results: | Delinquency Flag | Revenue | New Revenue | | --- | --- | --- | 7. Calculate the revenue for customers with delinquency by subtracting the EMI multiplied by loan tenure from the loan amount/principal. 8. Calculate the new revenue for customers with delinquency by subtracting the new EMI multiplied by loan tenure from the loan amount/principal. 9. Calculate the impact of increasing interest rate on revenue and delinquency by comparing the new revenue with the original revenue.</p>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#conclusion","title":"Conclusion","text":"<p>In this article, we discussed how to perform what-if analysis using Python and Excel for banking projects. We also covered how to calculate the impact of increasing interest rates on revenue and delinquency. By following these steps, you can gain a better understanding of the potential effects of changes in your business and make informed decisions to drive growth and profitability.</p>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/","title":"Why SocketIO Messages Aren't Being Received in Flask Applications","text":"","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#core-problem","title":"Core Problem","text":"<p>When building real-time applications with Flask and SocketIO, it's common to encounter issues with message reception. In this case, the problem is that the JavaScript code isn't receiving any messages from the server.</p>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To resolve this issue, we need to ensure that the client-side JavaScript code is properly connected to the server and that the socket.io event listener is set up correctly.</p>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#server-side-configuration","title":"Server-Side Configuration","text":"<p>The code snippet provided shows a basic Flask route for handling POST requests. However, there's an important detail missing: <code>asyncio</code> support. SocketIO requires asynchronous functions to handle incoming connections and events.</p> <pre><code>from flask import session, request\nimport asyncio\n\n@app.route('/3x3/online/&lt;username&gt;', methods=['POST'])\nasync def online3x3(username):\n    if username == session['username']:\n        socketio.emit('create', (session['username'], 1), namespace='/3x3/online/{username}')\n        session['ready'] = False\n</code></pre>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#client-side-javascript-configuration","title":"Client-Side JavaScript Configuration","text":"<p>On the client-side, we need to establish a connection with the server using SocketIO. We also need to set up an event listener for the 'create' event.</p> <pre><code>const socket = io();\n\nsocket.on('create', (username, ready) =&gt; {\n    console.log(`New user online: ${username}`);\n});\n</code></pre>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#connection-establishment","title":"Connection Establishment","text":"<p>The client-side JavaScript code needs to establish a connection with the server before sending any messages. We can do this by calling <code>io.connect()</code>.</p> <pre><code>const socket = io();\n\nsocket.on('connect', () =&gt; {\n    console.log('Connected to the server');\n});\n\nsocket.emit('online', { username: 'JohnDoe' });\n</code></pre>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#full-example","title":"Full Example","text":"<p>Here's the complete example code:</p> <p>Server-side (Flask):</p> <pre><code>from flask import Flask, session, request\nimport asyncio\nfrom flask_socketio import SocketIO, emit\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'secret!'\nsocketio = SocketIO(app)\n\n@app.route('/3x3/online/&lt;username&gt;', methods=['POST'])\nasync def online3x3(username):\n    if username == session['username']:\n        await socketio.emit('create', (session['username'], 1), namespace='/3x3/online/{username}')\n        session['ready'] = False\n\nif __name__ == '__main__':\n    app.run()\n</code></pre> <p>Client-side (JavaScript):</p> <pre><code>const socket = io();\n\nsocket.on('connect', () =&gt; {\n    console.log('Connected to the server');\n});\n\nsocket.emit('online', { username: 'JohnDoe' });\n\nsocket.on('create', (username, ready) =&gt; {\n    console.log(`New user online: ${username}`);\n});\n</code></pre>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#conclusion","title":"Conclusion","text":"<p>By ensuring proper connection establishment and setting up an event listener for the 'create' event, we can resolve the issue with SocketIO message reception in Flask applications. This example code snippet provides a comprehensive solution to this common problem.</p>","tags":["socketio","flask","javascript"]}]}