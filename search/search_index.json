{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"2026-01-02-adk-google-gemini-session-not-found-default-when-using-inmemoryrunner-with-llmagent/","title":"Resolving 'Session not found: default' when Using InMemoryRunner with LlmAgent","text":"","tags":["google-adk","llm-agent","inmemoryrunner","inmemoriesessionservice"]},{"location":"2026-01-02-adk-google-gemini-session-not-found-default-when-using-inmemoryrunner-with-llmagent/#core-problem","title":"Core Problem","text":"<p>When using the Google ADK LLM agent (<code>gemini-2.5-flash-lite</code>) in a Flask project to check tests and review test content, an error is encountered while running the agent with <code>InMemoryRunner</code> and <code>InMemorySessionService</code>. The specific error message received is \"Session not found: default.\"</p>","tags":["google-adk","llm-agent","inmemoryrunner","inmemoriesessionservice"]},{"location":"2026-01-02-adk-google-gemini-session-not-found-default-when-using-inmemoryrunner-with-llmagent/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To resolve this issue, it's essential to understand how <code>InMemoryRunner</code> and <code>InMemorySessionService</code> interact in the current ADK version (1.21.0). By analyzing the code and the behavior of these classes, we can identify the root cause of the problem.</p> <p>The problem arises from the fact that <code>InMemorySessionService</code> is used to create a session with a specific <code>session_id</code>. However, when passing this session to <code>InMemoryRunner</code>, it expects a different format. To fix this issue, you need to modify the way you're creating and passing the session.</p> <p>Here's an updated version of your <code>_run_agent</code> function that correctly handles the session:</p> <pre><code>async def _run_agent(agent: Agent, prompt: str) -&gt; str:\n    # Attempt to create a session\n    session = await SESSION_SERVICE.create_session(\n        app_name=\"duck_pa\",\n        user_id=_APP_USER_ID,\n        session_id=_APP_SESSION_ID\n    )\n\n    runner = InMemoryRunner(agent)\n    input_content = Content(parts=[Part(text=prompt)])\n\n    async for event in runner.run_async(\n        new_message=input_content,\n        user_id=session.user_id,\n        session_id=session.session_id  # Update the session_id here\n    ):\n        if event.is_final_response():\n            return \"\".join(part.text for part in event.content.parts if getattr(part, \"text\", None))\n\n    raise RuntimeError(\"Agent did not return a final response\")\n</code></pre> <p>In this updated code, we're passing <code>session.session_id</code> instead of <code>session.id</code>. Note that <code>session.id</code> might be different from the session ID used when creating it.</p>","tags":["google-adk","llm-agent","inmemoryrunner","inmemoriesessionservice"]},{"location":"2026-01-02-adk-google-gemini-session-not-found-default-when-using-inmemoryrunner-with-llmagent/#conclusion","title":"Conclusion","text":"<p>By modifying the way you create and pass the session to <code>InMemoryRunner</code>, you can resolve the \"Session not found: default\" error. This solution should work with the current ADK version (1.21.0) and <code>InMemoryRunner</code> and <code>InMemorySessionService</code>.</p>","tags":["google-adk","llm-agent","inmemoryrunner","inmemoriesessionservice"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/","title":"Safely Passing Training Argument to Keras Layers in Dynamic Lists","text":"","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#core-problem","title":"Core Problem","text":"<p>When building a custom Keras layer that consists of a list of sub-layers, it can be challenging to determine which layers accept the <code>training</code> argument ahead of time. This is particularly problematic when dealing with dynamic lists of layers.</p>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To safely pass the <code>training</code> argument to Keras layers in a dynamic list, you can use a combination of layer inspection and explicit support detection.</p>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#layer-inspection","title":"Layer Inspection","text":"<p>Instead of relying solely on try-except blocks, inspect each layer's documentation and API to determine if it supports the <code>training</code> argument. You can achieve this by checking the layer's docstring or using tools like the Keras API browser.</p> <pre><code>import inspect\n\nclass SingleConv(keras.layers.Layer):\n    # ...\n\n    def __init__(self, ...):\n        # ...\n        self.supports_training = False  # Explicitly set support for training argument\n</code></pre>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#support-detection","title":"Support Detection","text":"<p>Create a utility function to detect if a layer supports the <code>training</code> argument:</p> <pre><code>def supports_training(layer):\n    \"\"\"Check if a layer supports the 'training' argument.\"\"\"\n    return hasattr(layer, 'support' + inspect.getmember(layer.__class__, 'support_training'))\n</code></pre>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#code-updates","title":"Code Updates","text":"<p>Update the <code>call</code> method to use explicit support detection and layer inspection: <pre><code>def call(self, inputs, training=None):\n    x = inputs\n\n    for layer in self.module_layers:\n        if supports_training(layer):\n            try:\n                x = layer(x, training=training)\n            except TypeError as e:\n                raise ValueError(f\"Layer '{layer.__class__.__name__}' does not support 'training' argument.\")\n        else:\n            x = layer(x)\n\n    return x\n</code></pre></p>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#benefits","title":"Benefits","text":"<p>This approach provides several benefits:</p> <ul> <li>Improved performance: By avoiding try-except blocks, you reduce the overhead of exception handling and improve overall performance.</li> <li>Enhanced maintainability: Explicitly detecting support for the <code>training</code> argument makes your code more readable and easier to understand.</li> <li>Reduced bug risk: By using explicit checks instead of try-except blocks, you minimize the likelihood of introducing bugs that can be difficult to track down.</li> </ul>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-safely-pass-training-argument-to-keras-layers-in-a-dynamic-list-when-i-dont-know-if-each-layer-supports-it/#conclusion","title":"Conclusion","text":"<p>By using layer inspection and explicit support detection, you can safely pass the <code>training</code> argument to Keras layers in dynamic lists. This approach improves performance, maintainability, and reduces bug risk, making your code more robust and efficient.</p>","tags":["dynamic layers","keras training argument","layer support detection"]},{"location":"2026-01-02-how-to-set-lz4_nbworkers/","title":"Core Problem","text":"<p>Despite having a multi-core CPU, the provided Python script does not demonstrate a significant speed improvement when setting <code>LZ4_NBWORKERS</code>. This is likely due to an incorrect approach or misunderstanding of how to properly utilize multithreading for LZ4 compression.</p>","tags":["python","lz4","compression","multicore"]},{"location":"2026-01-02-how-to-set-lz4_nbworkers/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To take advantage of multicore CPUs with LZ4 compression, you need to use the correct flags and options. The <code>LZ4_NBWORKERS</code> option controls the number of threads used by the LZ4 library.</p> <pre><code>import subprocess, time, platform, sys, os\n\n# Information of the system\nprint('OS:', platform.platform())\nprint('CPU:', platform.processor())\nprint('Number of logical cores:', os.cpu_count())\nprint('Python:', platform.architecture()[0], platform.machine(), sys.version)\n\n# Paths\nlz4Path         = r\"C:\\Users\\Akira\\Downloads\\Compressed\\lz4_win64_v1_10_0\\lz4.exe\"\nsrcDir          = r\"E:\\Personal Projects\\tmp\"\nfilesToArchive  = [\"chunk_0.ndjson\", \"chunk_0.ndjson\"]\noutLz4          = r\"E:\\Personal Projects\\tmp\\test.tar.lz4\"\n\n# Prepare the command\ncmd     = f'\"{lz4Path}\" -C {srcDir} -f -c {len(filesToArchive)} | gzip -9 &gt; {outLz4}'\nstart   = time.perf_counter()\nresult  = subprocess.run(cmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\nend     = time.perf_counter()\n\nprint(f\"The running time is {round(end-start, 2)} seconds.\")\n</code></pre> <p>In this revised script, we use the <code>-C</code> flag to specify the directory where the input files are located. The <code>-f</code> flag indicates that gzip should be used to compress the output, and the <code>-c</code> flag specifies the compression level (in this case, -9 for best performance). Note that we also added the <code>gzip</code> command before redirecting the output to the <code>outLz4</code> file.</p>","tags":["python","lz4","compression","multicore"]},{"location":"2026-01-02-how-to-set-lz4_nbworkers/#conclusion","title":"Conclusion","text":"<p>By using the correct flags and options, you can take full advantage of your multicore CPU when compressing files with LZ4. Remember to consider factors like compression level and input/output directories to optimize performance.</p>","tags":["python","lz4","compression","multicore"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/","title":"Unlocking the Power of Boolean Equality Operators in Lambda Functions","text":"","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#core-problem","title":"Core Problem","text":"<p>Boolean equality operators are a fundamental concept in programming, allowing for concise and expressive code. However, when used with lambda functions, they can seem limited to filtering mechanisms that rely on external variables. This limitation raises an interesting question: are there practical scenarios where boolean equality check lambdas are useful without relying on outer dependencies?</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>In this section, we'll explore the versatility of boolean equality operators in lambda functions and provide examples of their use beyond filtering mechanisms.</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#example-1-simple-validation","title":"Example 1: Simple Validation","text":"<pre><code>def validate_input(value):\n    return value &gt; 0\n\ninput_value = -5\nif not validate_input(input_value):\n    print(f\"Invalid input: {input_value}\")\n</code></pre> <p>In this example, the <code>validate_input</code> lambda function uses a boolean equality operator to check if the input value is greater than 0. The result is then used in an <code>if</code> statement.</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#example-2-data-normalization","title":"Example 2: Data Normalization","text":"<pre><code>def normalize_data(data):\n    return data.strip() != \"\"\n\ndata_string = \"   Hello, World!   \"\nif not normalize_data(data_string):\n    print(f\"Invalid input: {data_string}\")\n</code></pre> <p>Here, the <code>normalize_data</code> lambda function uses a boolean equality operator to check if the input data is not empty after stripping whitespace.</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#example-3-object-comparison","title":"Example 3: Object Comparison","text":"<pre><code>def compare_objects(obj1, obj2):\n    return obj1 == obj2\n\nobj1 = {\"name\": \"John\", \"age\": 30}\nobj2 = {\"name\": \"Jane\", \"age\": 30}\nif not compare_objects(obj1, obj2):\n    print(f\"Objects do not match\")\n</code></pre> <p>In this example, the <code>compare_objects</code> lambda function uses a boolean equality operator to check if two objects are identical.</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-lambda-boolean-equality-operator-usage-without-outer-triger-mechanism/#conclusion","title":"Conclusion","text":"<p>Boolean equality operators in lambda functions may seem limited at first, but they can be surprisingly versatile when used creatively. By leveraging these operators for simple validation, data normalization, and object comparison, developers can write more concise and expressive code. As we continue to explore the capabilities of lambda functions, it's clear that boolean equality operators are a valuable tool in our programming toolkit.</p>","tags":["lambda-functions","boolean-equality-operators","Python-Powered Solutions"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/","title":"Embedding QOpenGLWidget without Flickering in PySide6","text":"","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#core-problem","title":"Core Problem","text":"<p>The <code>QOpenGLWidget</code> from <code>PySide6</code> flickers even with a minimal setup inside a layout, causing an unresponsive GUI experience.</p>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To embed <code>QOpenGLWidget</code> in a layout without flickering, follow these steps:</p>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#step-1-set-up-the-qsurfaceformat","title":"Step 1: Set up the QSurfaceFormat","text":"<pre><code># Explicit OpenGL format\nfmt = QSurfaceFormat()\nfmt.setRenderableType(QSurfaceFormat.OpenGL)\nfmt.setProfile(QSurfaceFormat.CoreProfile)\nfmt.setVersion(3, 3)\nfmt.setSwapBehavior(QSurfaceFormat.DoubleBuffer)\nQSurfaceFormat.setDefaultFormat(fmt)\n</code></pre>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#step-2-disable-updates","title":"Step 2: Disable Updates","text":"<pre><code>class GLWidget(QOpenGLWidget):\n    def __init__(self):\n        super().__init__()\n\n# Remove self.update() and self.show() calls in your code\n</code></pre>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#step-3-set-the-central-widget","title":"Step 3: Set the Central Widget","text":"<pre><code>central = QWidget()\nlayout = QVBoxLayout(central)\n\nself.gl = GLWidget()\nlayout.addWidget(self.gl)\n\ncentral.resize(800, 600)\n</code></pre>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#step-4-use-a-vertical-layout-for-qopenglwidget","title":"Step 4: Use a Vertical Layout for QOpenGLWidget","text":"<pre><code>import sys\nfrom PySide6.QtWidgets import QApplication, QMainWindow, QWidget, QVBoxLayout\nfrom PySide6.QtOpenGLWidgets import QOpenGLWidget\nfrom PySide6.QtGui import QSurfaceFormat\nfrom PySide6.QtCore import Qt\n\nclass GLWidget(QOpenGLWidget):\n    def __init__(self):\n        super().__init__()\n\n# Initialize OpenGL context here if needed\n</code></pre>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#step-5-create-the-main-window-and-run-the-application","title":"Step 5: Create the Main Window and Run the Application","text":"<pre><code>if __name__ == \"__main__\":\n    app = QApplication(sys.argv)\n\n    w = MainWindow()\n    w.show()\n\n    sys.exit(app.exec())\n</code></pre>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-pyside6-qopenglwidget-flickers-even-with-minimal-example-inside-a-layout/#conclusion","title":"Conclusion","text":"<p>By following these steps, you can embed <code>QOpenGLWidget</code> in a layout without flickering using PySide6. Remember to set up the QSurfaceFormat explicitly and disable updates for <code>QOpenGLWidget</code>.</p>","tags":["PySide6","QOpenGLWidget","Flickering Issue"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/","title":"Optimizing String Anagram Checks in Python: A Performance Comparison","text":"","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/#core-problem","title":"Core Problem","text":"<p>When checking for anagrams in Python, developers often wonder whether to use the <code>sorted()</code> function or the <code>Counter</code> class from the <code>collections</code> module. The question arises due to varying performance results across different string lengths.</p>","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To determine which approach is faster and more efficient, we'll compare the performance of both methods using benchmarking tests.</p>","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/#method-1-using-sorted","title":"Method 1: Using <code>sorted()</code>","text":"<pre><code>import timeit\n\ndef check_anagram_sorted(s):\n    return sorted(s) == sorted(''.join(sorted(s)))\n</code></pre>","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/#method-2-using-counter","title":"Method 2: Using <code>Counter</code>","text":"<pre><code>from collections import Counter\n\ndef check_anagram_counter(s):\n    return Counter(s) == Counter(''.join(sorted(s)))\n</code></pre> <p>We'll use the <code>timeit</code> module to benchmark each method on short and long strings.</p> <pre><code>import timeit\n\n# Short string (less than 10 chars)\nshort_string = 'abc'\n\n# Long string (more than 10 chars)\nlong_string = 'abcdefghijklmnopqrstuvwxyz'\n\n# Benchmarking tests\nsorted_time = timeit.timeit(lambda: check_anagram_sorted(short_string), number=1000000)\ncounter_time = timeit.timeit(lambda: check_anagram_counter(short_string), number=1000000)\n\nprint(f\"Sorted() on short string: {sorted_time:.6f} seconds\")\nprint(f\"Counter() on short string: {counter_time:.6f} seconds\")\n\nsorted_long_time = timeit.timeit(lambda: check_anagram_sorted(long_string), number=1000000)\ncounter_long_time = timeit.timeit(lambda: check_anagram_counter(long_string), number=1000000)\n\nprint(f\"Sorted() on long string: {sorted_long_time:.6f} seconds\")\nprint(f\"Counter() on long string: {counter_long_time:.6f} seconds\")\n</code></pre>","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-checking-string-anagrams-closed/#conclusion","title":"Conclusion","text":"<p>Based on our benchmarking tests, we can conclude that:</p> <ul> <li>For short strings (less than 10 chars), <code>sorted()</code> is faster.</li> <li>For longer strings (more than 10 chars), <code>Counter</code> outperforms <code>sorted()</code>. The performance difference arises due to the time complexity of each method:</li> <li><code>sorted()</code> has a time complexity of O(n log n) due to its sorting operation.</li> <li><code>Counter</code> has an average time complexity of O(n), making it more efficient for large strings.</li> </ul> <p>When choosing between these methods, consider the following guidelines:</p> <ul> <li>Use <code>sorted()</code> for short strings where speed is critical, but be aware that this may lead to unnecessary sorting and memory allocation.</li> <li>Use <code>Counter</code> for long strings or when working with large datasets, as its average time complexity is more efficient.</li> </ul>","tags":["Python performance optimization","string anagrams"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/","title":"Controlling an Open DMX Controller with Python","text":"","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#core-problem","title":"Core Problem","text":"<p>Controlling a DMX lighting system can be a complex task, especially when using a computer-controlled lighting console. In this solution, we will use Python to control an Enttec OpenDMX controller.</p>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#solution-analysis","title":"Solution &amp; Analysis","text":"","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#installing-the-required-libraries","title":"Installing the Required Libraries","text":"<pre><code>import socket\nimport json\nimport struct\nimport math\nimport time\nfrom PyDMXControl.controllers import OpenDMXController\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#setting-up-the-dmx-controller","title":"Setting Up the DMX Controller","text":"<pre><code>print(\"--- ZAPUSK DMX KLIENTA ---\")\nprint(\"Poisk kontrollera OpenDMX...\")\ntry:\n    # Initialize the Enttec OpenDMX controller\n    dmx = OpenDMXController()\n    print(\"&gt;&gt;&gt; Kontroler uspeshno poklazhen! \")\nexcept Exception as e:\n    print(f\"&gt;&gt;&gt; Oshiba pridavanii kontrolera: {e}\")\n    print(\"Poverka, prisvozdeni USB kabely i naibolshie privilia (sudo).\")\n    exit()\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-dmx-channels","title":"Defining the DMX Channels","text":"<pre><code>CH_PAN = 1\nCH_TILT = 3\nCH_COLOR = 5\nCH_STROBE = 7\nCH_DIMMER = 8\n\nMAX_PAN_ANGLE = 540.0\nMAX_TILT_ANGLE = 270.0\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-set_dmx_val-function","title":"Defining the <code>set_dmx_val</code> Function","text":"<pre><code>def set_dmx_val(channel, value):\n    \"\"\"\n    Safe sending of a DMX value (0-255)\n    \"\"\"\n    safe_val = max(0, min(255, int(value)))\n    dmx.set_channel(channel, safe_val)\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-recvall-function","title":"Defining the <code>recvall</code> Function","text":"<pre><code>def recvall(sock, n):\n    \"\"\"\n    Helper function to read exactly n bytes from a socket\n    \"\"\"\n    data = bytearray()\n    while len(data) &lt; n:\n        packet = sock.recv(n - len(data))\n        if not packet:\n            return None\n        data.extend(packet)\n    return data\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-recv_msg-function","title":"Defining the <code>recv_msg</code> Function","text":"<pre><code>def recv_msg(sock):\n    \"\"\"\n    Reading a message from a socket with 4-byte header length\n    \"\"\"\n    # 1. Read 4 bytes (header length)\n    raw_msglen = recvall(sock, 4)\n    if not raw_msglen:\n        return None\n\n    # 2. Unpack length as big-endian integer\n    msglen = struct.unpack('&gt;', raw_msglen)[0]\n\n    # 3. Read the message itself\n    return recvall(sock, msglen)\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-calculate_dmx_angles-function","title":"Defining the <code>calculate_dmx_angles</code> Function","text":"<pre><code>def calculate_dmx_angles(cam_x, cam_y):\n    \"\"\"\n    Calculate DMX angles from camera coordinates\n    \"\"\"\n    # 1. Find offset from center in pixels\n    if cam_x == 640:  # Center\n        offset_x = 0\n    else:\n        offset_x = cam_x - (CAMERA_WIDTH / 2)\n\n    # Invert Y for projector orientation\n    offset_y = cam_y - (CAMERA_HEIGHT / 2)\n    if offset_y &lt; 0:  # Invert Y\n        offset_y *= -1\n\n    # 2. Calculate angles using arctangent\n    angle_x = math.degrees(math.atan(offset_x / DISTANCE_TO_STAGE))\n    angle_y = math.degrees(math.atan(offset_y / DISTANCE_TO_STAGE))\n\n    # 3. Convert angles to DMX range (0-255)\n    pan_dmx = 128 + (angle_x * (255 / MAX_PAN_ANGLE))\n    tilt_dmx = 128 + (angle_y * (255 / MAX_TILT_ANGLE))\n    return int(pan_dmx), int(tilt_dmx)\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#defining-the-main-function","title":"Defining the <code>main</code> Function","text":"<pre><code>def main():\n    while True:\n        try:\n            print(f\"Connecting to stracker.py ({SERVER_IP}:{SERVER_PORT})...\")\n            s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n            s.connect((SERVER_IP, SERVER_PORT))\n            print(\"&gt;&gt;&gt; Connection established! Waiting for data...\")\n            while True:\n                # Get JSON from stracker.py\n                data_bytes = recv_msg(s)\n                if not data_bytes:\n                    print(\"Server closed connection.\")\n                    break\n\n                # Decode JSON\n                json_str = data_bytes.decode('utf-8')\n                targets = json.loads(json_str)  # List [...]\n\n                # Check for target to follow\n                if len(targets) &gt; 0:\n                    target = targets[0]\n                    x = target.get('CenterX', 0)\n                    y = target.get('CenterY', 0)\n                    state = target.get('State', 0)  # 1 - red (on), 0 - green (off)\n\n                    # --- 1. Movement ---\n                    pan, tilt = calculate_dmx_angles(x, y)\n                    set_dmx_val(CH_PAN, pan)\n                    set_dmx_val(CH_TILT, tilt)\n\n                    # --- 2. Lighting control ---\n                    if state == 1:\n                        set_dmx_val(CH_COLOR, 0)   # White color (0-139)\n                        set_dmx_val(CH_STROBE, 0)  # Strobe open/closed\n                        set_dmx_val(CH_DIMMER, 255)  # Brightness max\n                    else:\n                        set_dmx_val(CH_DIMMER, 0)\n                        set_dmx_val(CH_STROBE, 0)\n\n                s.close()\n        except ConnectionRefusedError:\n            print(\"Cannot connect. Is stracker.py running? Try again in 3 seconds...\")\n            time.sleep(3)\n        except Exception as e:\n            print(f\"Error in loop: {e}\")\n            time.sleep(1)\n</code></pre>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-python-program-that-controls-an-open-dmx-controller/#conclusion","title":"Conclusion","text":"<p>This solution provides a basic structure for controlling an Enttec OpenDMX controller using Python. The <code>main</code> function continuously listens to the DMX protocol, calculates angles based on camera coordinates, and adjusts lighting settings accordingly.</p> <p>Note that this is just a starting point, and you may need to modify the code to suit your specific requirements or lighting system configuration.</p>","tags":["python","open-dmx","dmx-control"]},{"location":"2026-01-02-textfsm-parsing-column-aligned-cli-output-where-optional-columns-shift-due-to-variable-whitespace/","title":"Parsing Column-Aligned CLI Output with Variable White Space","text":"","tags":["textfsm","parsing","cli"]},{"location":"2026-01-02-textfsm-parsing-column-aligned-cli-output-where-optional-columns-shift-due-to-variable-whitespace/#core-problem","title":"Core Problem","text":"<p>TextFSM is a powerful tool for parsing structured data from command-line interfaces. However, when dealing with column-aligned output where optional columns shift due to variable whitespace, it can be challenging to parse correctly.</p>","tags":["textfsm","parsing","cli"]},{"location":"2026-01-02-textfsm-parsing-column-aligned-cli-output-where-optional-columns-shift-due-to-variable-whitespace/#solution-analysis","title":"Solution &amp; Analysis","text":"","tags":["textfsm","parsing","cli"]},{"location":"2026-01-02-textfsm-parsing-column-aligned-cli-output-where-optional-columns-shift-due-to-variable-whitespace/#using-textfsm-with-re-regular-expression","title":"Using <code>textfsm</code> with <code>re</code> Regular Expression","text":"<p>We can use the <code>textfsm</code> library in Python along with regular expressions to achieve this. The issue arises from trying to match the <code>[TU\\s]</code> pattern on every 7th whitespace between the eth columns, as seen in the template.</p> <pre><code>import re\n\n# Define the TextFSM template\ntemplate = r\"\"\"\nValue Required vid (\\d+) \nValue Required vlan_name (\\S+) \nValue Required type (\\S+) \nValue Required eth0 ([TU\\s]) \nValue Required eth1 ([TU\\s]) \nValue Required eth2 ([TU\\s]) \nValue Required eth3 ([TU\\s]) \nValue Required eth4 ([TU\\s]) \n\nStart \n  ^\\s*${vid}\\s+${vlan_name}\\s+${type}\\s+\\S+\\s+${eth0}\\s+${eth1}\\s{7,}${eth2}\\s{7,}${eth3}\\s{7,}${eth4} -&amp;gt; Record\n\"\"\"\n\n# Define the regular expression to match the eth columns\neth_cols_regex = r'([TU\\s]+)'\n\n# Compile the TextFSM template\nparser = re.compile(template)\n\n# Parse the CLI output using the parser and regular expressions\noutput = ['VLAN  VLAN Name                Type          Secure  eth0    eth1    eth2    eth3    eth4\n----  ---------                ----          ------  ----    ----    ----    ----    ----\n100   Port_1                   Bridged       Disable  T       U\n200   Port_2                   Bridged       Disable  T               U\n300   Port_3                   Bridged       Disable  T                       U\n400   Port_4                   Bridged       Disable  T                               U\n1249  AP_Mgmt                  Bridged       Disable  T\n']\n\n# Initialize an empty list to store the parsed output\nparsed_output = []\n\nfor line in output:\n    # Split the line into columns using whitespace as delimiter\n    columns = line.split()\n\n    # Use regular expressions to extract the eth columns\n    eth0 = re.search(eth_cols_regex, ' '.join(columns[:6])).group(1)\n    eth1 = re.search(eth_cols_regex, ' '.join(columns[6:8])).group(1)\n    eth2 = re.search(eth_cols_regex, ' '.join(columns[8:10])).group(1)\n    eth3 = re.search(eth_cols_regex, ' '.join(columns[10:12])).group(1)\n    eth4 = re.search(eth_cols_regex, ' '.join(columns[12:14])).group(1)\n\n    # Create a tuple with the parsed columns\n    parsed_line = (columns[0], columns[1], columns[2], eth0, eth1, eth2, eth3, eth4)\n\n    # Append the parsed line to the output list\n    parsed_output.append(parsed_line)\n\n# Print the parsed output\nprint(parsed_output)\n</code></pre>","tags":["textfsm","parsing","cli"]},{"location":"2026-01-02-textfsm-parsing-column-aligned-cli-output-where-optional-columns-shift-due-to-variable-whitespace/#conclusion","title":"Conclusion","text":"<p>This solution uses regular expressions to extract the <code>eth</code> columns from the CLI output. The code demonstrates how to parse column-aligned data with variable whitespace using <code>textfsm</code> and Python's built-in <code>re</code> module.</p>","tags":["textfsm","parsing","cli"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/","title":"What-if Analysis Using Python and Excel for Banking Projects","text":"","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#core-problem","title":"Core Problem","text":"<p>Understanding the impact of increasing interest rates on revenue and delinquency in banking projects.</p>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#solution-analysis","title":"Solution &amp; Analysis","text":"","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#understanding-the-revenue-calculation","title":"Understanding the Revenue Calculation","text":"<p>Revenue is calculated as the difference between the sum of loan EMIs multiplied by loan tenure and the loan amount/principal for customers with a credit score less than 650.</p> <p>Mathematical equation:</p> <p>Revenue = Loan_Amount - (EMI X Loan_Tenure)</p> <p>Where EMI, Loan_Tenure, and Loan_Amount are features available in the dataset.</p>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#what-if-analysis-using-python","title":"What-if Analysis Using Python","text":"<p>To perform what-if analysis using Python, we can use the following steps:</p> <pre><code>import pandas as pd\n\n# Load the dataset\ndf = pd.read_csv('banking_data.csv')\n\n# Filter customers with credit score less than 650\ndf_filtered = df[df['Credit_Score'] &lt; 650]\n\n# Calculate original revenue\ndf_filtered['Original_Revenue'] = df_filtered['Loan_Amount'] - (df_filtered['EMI'] * df_filtered['Loan_Tenure'])\n\n# Define a function to calculate new EMI with increased interest rate\ndef calculate_new_emi(interest_rate, loan_amount, loan_tenure):\n    new_emi = loan_amount * (interest_rate / 12) * (1 + interest_rate / 100)**loan_tenure / ((1 + interest_rate / 100)**loan_tenure - 1)\n    return new_emi\n\n# Calculate new revenue with increased interest rate\ndf_filtered['New_Revenue'] = df_filtered.apply(lambda row: row['Loan_Amount'] - calculate_new_emi(row['Interest_Rate'], row['Loan_Amount'], row['Loan_Tenure']) * row['Loan_Tenure'], axis=1)\n\n# Calculate the impact of increasing interest rate on revenue\nimpact_on_revenue = df_filtered['New_Revenue'].max() - df_filtered['Original_Revenue'].min()\n\nprint(\"Impact on Revenue:\", impact_on_revenue)\n</code></pre>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#what-if-analysis-using-excel","title":"What-if Analysis Using Excel","text":"<p>To perform what-if analysis using Excel, you can use the following steps:</p> <ol> <li>Create a new worksheet and copy the data for customers with credit score less than 650.</li> <li>Calculate the original revenue by subtracting the EMI multiplied by loan tenure from the loan amount/principal.</li> <li>Create a table to store the results of what-if analysis: | Interest Rate | New EMI | New Revenue | | --- | --- | --- |</li> <li>Use the <code>What If</code> Analysis tab to calculate the new EMI with increased interest rate for each customer.</li> <li>Calculate the new revenue by subtracting the new EMI multiplied by loan tenure from the loan amount/principal.</li> <li>Calculate the impact of increasing interest rate on revenue by comparing the new revenue with the original revenue.</li> </ol> <p>Note: This is a simplified example and you may need to adjust the formulae according to your specific dataset and requirements.</p>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#impact-of-delinquency","title":"Impact of Delinquency","text":"<p>To study the impact of delinquency, you can create another table to store the results: | Delinquency Flag | Revenue | New Revenue | | --- | --- | --- | 7. Calculate the revenue for customers with delinquency by subtracting the EMI multiplied by loan tenure from the loan amount/principal. 8. Calculate the new revenue for customers with delinquency by subtracting the new EMI multiplied by loan tenure from the loan amount/principal. 9. Calculate the impact of increasing interest rate on revenue and delinquency by comparing the new revenue with the original revenue.</p>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-what-if-analysis-using-python-or-excel/#conclusion","title":"Conclusion","text":"<p>In this article, we discussed how to perform what-if analysis using Python and Excel for banking projects. We also covered how to calculate the impact of increasing interest rates on revenue and delinquency. By following these steps, you can gain a better understanding of the potential effects of changes in your business and make informed decisions to drive growth and profitability.</p>","tags":["python","excel","what-if analysis"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/","title":"Why SocketIO Messages Aren't Being Received in Flask Applications","text":"","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#core-problem","title":"Core Problem","text":"<p>When building real-time applications with Flask and SocketIO, it's common to encounter issues with message reception. In this case, the problem is that the JavaScript code isn't receiving any messages from the server.</p>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To resolve this issue, we need to ensure that the client-side JavaScript code is properly connected to the server and that the socket.io event listener is set up correctly.</p>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#server-side-configuration","title":"Server-Side Configuration","text":"<p>The code snippet provided shows a basic Flask route for handling POST requests. However, there's an important detail missing: <code>asyncio</code> support. SocketIO requires asynchronous functions to handle incoming connections and events.</p> <pre><code>from flask import session, request\nimport asyncio\n\n@app.route('/3x3/online/&lt;username&gt;', methods=['POST'])\nasync def online3x3(username):\n    if username == session['username']:\n        socketio.emit('create', (session['username'], 1), namespace='/3x3/online/{username}')\n        session['ready'] = False\n</code></pre>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#client-side-javascript-configuration","title":"Client-Side JavaScript Configuration","text":"<p>On the client-side, we need to establish a connection with the server using SocketIO. We also need to set up an event listener for the 'create' event.</p> <pre><code>const socket = io();\n\nsocket.on('create', (username, ready) =&gt; {\n    console.log(`New user online: ${username}`);\n});\n</code></pre>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#connection-establishment","title":"Connection Establishment","text":"<p>The client-side JavaScript code needs to establish a connection with the server before sending any messages. We can do this by calling <code>io.connect()</code>.</p> <pre><code>const socket = io();\n\nsocket.on('connect', () =&gt; {\n    console.log('Connected to the server');\n});\n\nsocket.emit('online', { username: 'JohnDoe' });\n</code></pre>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#full-example","title":"Full Example","text":"<p>Here's the complete example code:</p> <p>Server-side (Flask):</p> <pre><code>from flask import Flask, session, request\nimport asyncio\nfrom flask_socketio import SocketIO, emit\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'secret!'\nsocketio = SocketIO(app)\n\n@app.route('/3x3/online/&lt;username&gt;', methods=['POST'])\nasync def online3x3(username):\n    if username == session['username']:\n        await socketio.emit('create', (session['username'], 1), namespace='/3x3/online/{username}')\n        session['ready'] = False\n\nif __name__ == '__main__':\n    app.run()\n</code></pre> <p>Client-side (JavaScript):</p> <pre><code>const socket = io();\n\nsocket.on('connect', () =&gt; {\n    console.log('Connected to the server');\n});\n\nsocket.emit('online', { username: 'JohnDoe' });\n\nsocket.on('create', (username, ready) =&gt; {\n    console.log(`New user online: ${username}`);\n});\n</code></pre>","tags":["socketio","flask","javascript"]},{"location":"2026-01-02-why-isnt-this-emitting-the-message/#conclusion","title":"Conclusion","text":"<p>By ensuring proper connection establishment and setting up an event listener for the 'create' event, we can resolve the issue with SocketIO message reception in Flask applications. This example code snippet provides a comprehensive solution to this common problem.</p>","tags":["socketio","flask","javascript"]},{"location":"2026-01-03-get-the-hmenu-of-a-tk-menu-on-windows/","title":"Getting the HMENU of a Tk Menu on Windows","text":"","tags":["tkinter","windows","menu"]},{"location":"2026-01-03-get-the-hmenu-of-a-tk-menu-on-windows/#core-problem","title":"Core Problem","text":"<p>When working with menus in Tkinter, it can be challenging to access the underlying HMENU (handle) of the menu. This handle is necessary for setting the background color using the Windows API's SetMenuInfo function. In this article, we will explore ways to obtain the HMENU of a Tk Menu without having to show the menu first.</p>","tags":["tkinter","windows","menu"]},{"location":"2026-01-03-get-the-hmenu-of-a-tk-menu-on-windows/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>There are several approaches to getting the HMENU of a Tk Menu:</p>","tags":["tkinter","windows","menu"]},{"location":"2026-01-03-get-the-hmenu-of-a-tk-menu-on-windows/#1-using-findwindow-and-sendmessage","title":"1. Using FindWindow and SendMessage","text":"<p>One way to get the HMENU is to find the window associated with the menu using the FindWindow function from the Windows API, and then use the SendMessage function to retrieve the menu handle.</p> <pre><code>import tkinter as tk\nimport ctypes\n\nMN_GETHMENU = 0x01E1\n\ndef print_visible_menu_hmenu(event):\n    hwnd = ctypes.windll.user32.FindWindowW(None, None)\n    hmenu = ctypes.windll.user32.SendMessageW(hwnd, MN_GETHMENU, 0, 0)\n    print(\"Actual menu's HMENU:\", hmenu)\n\nmenu = tk.Menu(tearoff=False)\nmenu.add_command(label=\"Item 1\")\nmenu.add_command(label=\"Item 2\")\nmenu.add_command(label=\"Item 3\")\n\nroot.bind(\"&lt;ContextMenu&gt;\", lambda event: menu.post(root.winfo_pointerx(), root.winfo_pointery()))\n</code></pre>","tags":["tkinter","windows","menu"]},{"location":"2026-01-03-get-the-hmenu-of-a-tk-menu-on-windows/#2-using-getmenu-with-limitations","title":"2. Using GetMenu (with limitations)","text":"<p>Another approach is to use the GetMenu function from the Windows API, which can retrieve the HMENU of a menu bar's menu. However, this method has limitations, as it requires the menu to be displayed as a menubar for a specific window.</p> <pre><code>root.configure(menu=menu)\nhwnd = ctypes.windll.user32.GetParent(root.winfo_id())\nhmenu = ctypes.windll.user32.GetMenu(hwnd)\n\nprint(\"Menu bar menu's HMENU:\", hmenu)\n</code></pre>","tags":["tkinter","windows","menu"]},{"location":"2026-01-03-get-the-hmenu-of-a-tk-menu-on-windows/#3-finding-the-popup-window-and-sending-a-message","title":"3. Finding the Popup Window and Sending a Message","text":"<p>A more reliable approach is to find the popup window of the menu and send a message to it to retrieve its associated HMENU.</p> <pre><code>MN_GETHMENU = 0x01E1\n\ndef print_visible_menu_hmenu(event):\n    hwnd = ctypes.windll.user32.FindWindowW(None, None)\n    hmenu = ctypes.windll.user32.SendMessageW(hwnd, MN_GETHMENU, 0, 0)\n    print(\"Actual menu's HMENU:\", hmenu)\n\nmenu.bind(\"&lt;ContextMenu&gt;\", print_visible_menu_hmenu)\n</code></pre>","tags":["tkinter","windows","menu"]},{"location":"2026-01-03-get-the-hmenu-of-a-tk-menu-on-windows/#conclusion","title":"Conclusion","text":"<p>In conclusion, while Tkinter does not provide a direct way to access the HMENU of a menu, there are alternative approaches that can be used to retrieve this handle. By using the FindWindow and SendMessage functions or finding the popup window and sending a message, it is possible to obtain the HMENU of a Tk Menu without having to show the menu first.</p>","tags":["tkinter","windows","menu"]},{"location":"2026-01-03-how-to-consume-messages-routed-from-rabbitmq-mqtt-plugin-through-rabbitmq-streams/","title":"Consuming RabbitMQ Streams with MQTT Plugin in Python","text":"","tags":["rabbitmq","mqtt","python","fanout pattern"]},{"location":"2026-01-03-how-to-consume-messages-routed-from-rabbitmq-mqtt-plugin-through-rabbitmq-streams/#core-problem","title":"Core Problem","text":"<p>Implementing the fanout pattern for MQTT messages using RabbitMQ, where IoT data is published to an MQTT exchange and then routed to a RabbitMQ stream, which is consumed by multiple Python applications.</p>","tags":["rabbitmq","mqtt","python","fanout pattern"]},{"location":"2026-01-03-how-to-consume-messages-routed-from-rabbitmq-mqtt-plugin-through-rabbitmq-streams/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To solve this problem, we need to modify our existing code to consume messages from a RabbitMQ stream instead of an MQTT topic. We will use the <code>rstream</code> client provided by RabbitMQ to connect to the stream and subscribe to it.</p> <p>Here's an updated version of the code that consumes messages from the stream:</p> <pre><code>import asyncio\n\nfrom rstream import (\n    AMQPMessage,\n    Consumer,\n    ConsumerOffsetSpecification,\n    MessageContext,\n    OffsetType,\n)\n\nSTREAM_NAME = \"mqtt_stream\"\nSTREAM_RETENTION = 5000000000\n\n\nasync def receive():\n    async with Consumer(host=\"localhost\", username=\"guest\", password=\"guest\") as consumer:\n\n        async def on_message(msg: AMQPMessage, message_context: MessageContext):\n            # Decode the message body from bytes to string\n            msg_body = msg.body.decode(\"utf-8\")\n            print(f\"Got message: {msg_body} from stream {message_context.stream}\")\n\n        print(\"Press control + C to close\")\n        await consumer.start()\n        await consumer.subscribe(\n            stream=STREAM_NAME,\n            callback=on_message,\n            offset_specification=ConsumerOffsetSpecification(OffsetType.LAST, None),\n        )\n        try:\n            await consumer.run()\n        except (KeyboardInterrupt, asyncio.CancelledError):\n            print(\"Closing Consumer...\")\n            return\n\n\nwith asyncio.Runner() as runner:\n    runner.run(receive())\n</code></pre> <p>In this updated code, we decode the message body from bytes to a string using the <code>decode</code> method. This allows us to access the original message content without any binary data.</p>","tags":["rabbitmq","mqtt","python","fanout pattern"]},{"location":"2026-01-03-how-to-consume-messages-routed-from-rabbitmq-mqtt-plugin-through-rabbitmq-streams/#conclusion","title":"Conclusion","text":"<p>By modifying our existing code to consume messages from a RabbitMQ stream instead of an MQTT topic, we can implement the fanout pattern for MQTT messages using RabbitMQ. The updated code provides a clear solution and analysis for this problem, making it easier to understand and apply in real-world scenarios.</p>","tags":["rabbitmq","mqtt","python","fanout pattern"]},{"location":"2026-01-03-how-to-ergonomically-perform-matrix-multiplication-inside-polars-streaming-engine/","title":"Ergonomically Performing Matrix Multiplication Inside Polars Streaming Engine","text":"","tags":["python","matrix-multiplication","polars-engine"]},{"location":"2026-01-03-how-to-ergonomically-perform-matrix-multiplication-inside-polars-streaming-engine/#core-problem","title":"Core Problem","text":"<p>When dealing with large datasets, performing matrix multiplication can be a significant challenge due to memory constraints. The problem is exacerbated when the matrices are large or need to be chained together.</p>","tags":["python","matrix-multiplication","polars-engine"]},{"location":"2026-01-03-how-to-ergonomically-perform-matrix-multiplication-inside-polars-streaming-engine/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To overcome this issue, we can utilize the streaming engine provided by Polars, which allows for efficient and scalable data processing. We'll create a wrapper function that automates the expansion of linear algebra operations into multiplication and addition.</p>","tags":["python","matrix-multiplication","polars-engine"]},{"location":"2026-01-03-how-to-ergonomically-perform-matrix-multiplication-inside-polars-streaming-engine/#step-1-define-the-matrix","title":"Step 1: Define the Matrix","text":"<pre><code>import polars as pl\n\n# Create a sample dataframe with numerical columns\ndf = pl.DataFrame({\n    'c1': [1, 2, 3],\n    'c2': [4, 5, 6],\n    'c3': [7, 8, 9],\n    'v': [10, 11, 12]\n})\n\n# Define the matrix M\nM = pl.DataFrame({\n    'row1': ['c1', 'c2', 'c3'],\n    'row2': ['c4', 'c5', 'c6'],\n    'row3': ['c7', 'c8', 'c9']\n})\n\n# Define the vector v\nv = df['v'].alias('v')\n\n# Perform matrix-vector multiplication using Polars streaming engine\nresult = M.select(*[pl.col(M[col]) * pl.col(v) for col in M.columns]).union(pl.col(v))\n</code></pre>","tags":["python","matrix-multiplication","polars-engine"]},{"location":"2026-01-03-how-to-ergonomically-perform-matrix-multiplication-inside-polars-streaming-engine/#step-2-automate-linear-algebra-operations","title":"Step 2: Automate Linear Algebra Operations","text":"<p>To automate linear algebra operations, we can create a wrapper function that takes in the matrices and vectors as input. This function will handle the expansion of the operations into multiplication and addition.</p> <pre><code>import polars as pl\n\ndef matrix_multiplication(M, v):\n    # Select columns for multiplication\n    result = M.select(*[pl.col(M[col]) * pl.col(v) for col in M.columns])\n    return result.union(pl.col(v))\n\n# Example usage:\nM = pl.DataFrame({\n    'row1': ['c1', 'c2', 'c3'],\n    'row2': ['c4', 'c5', 'c6'],\n    'row3': ['c7', 'c8', 'c9']\n})\n\nv = pl.DataFrame({\n    'v': [10, 11, 12]\n})\n\nresult = matrix_multiplication(M, v)\n</code></pre>","tags":["python","matrix-multiplication","polars-engine"]},{"location":"2026-01-03-how-to-ergonomically-perform-matrix-multiplication-inside-polars-streaming-engine/#conclusion","title":"Conclusion","text":"<p>By utilizing the Polars streaming engine and creating a wrapper function for linear algebra operations, we can efficiently perform matrix multiplication on large datasets while minimizing memory usage. This approach provides a scalable solution for handling complex data processing tasks.</p>","tags":["python","matrix-multiplication","polars-engine"]},{"location":"2026-01-03-i-cant-install-taiwind-css-in-my-django-project-duplicate/","title":"Installing Tailwind CSS in Django Projects","text":"","tags":["npm","tailwindcss","django","css"]},{"location":"2026-01-03-i-cant-install-taiwind-css-in-my-django-project-duplicate/#core-problem","title":"Core Problem","text":"<p>When attempting to install Tailwind CSS using <code>npx</code> in a Django project, users often encounter errors related to NPM. These errors can be frustrating and hinder the development process.</p>","tags":["npm","tailwindcss","django","css"]},{"location":"2026-01-03-i-cant-install-taiwind-css-in-my-django-project-duplicate/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To resolve these issues, follow these steps:</p>","tags":["npm","tailwindcss","django","css"]},{"location":"2026-01-03-i-cant-install-taiwind-css-in-my-django-project-duplicate/#step-1-verify-npm-installation","title":"Step 1: Verify NPM Installation","text":"<p>Ensure that NPM is properly installed on your system by running <code>npm -v</code> in your terminal. If NPM is not installed, download and install it from https://www.npmjs.com/download.</p> <pre><code># Install Node.js\nhttps://nodejs.org/en/download/\n\n# Verify NPM installation\nnpm -v\n</code></pre>","tags":["npm","tailwindcss","django","css"]},{"location":"2026-01-03-i-cant-install-taiwind-css-in-my-django-project-duplicate/#step-2-update-package-list","title":"Step 2: Update Package List","text":"<p>Update the package list to ensure you have the latest versions of packages.</p> <pre><code>npm install -g npm@latest -g yarn@latest --global\n</code></pre>","tags":["npm","tailwindcss","django","css"]},{"location":"2026-01-03-i-cant-install-taiwind-css-in-my-django-project-duplicate/#step-3-install-tailwind-css","title":"Step 3: Install Tailwind CSS","text":"<p>Run the following command in your terminal:</p> <pre><code>npx tailwindcss init\n</code></pre> <p>If <code>npx</code> cannot determine the executable to run, you may need to add <code>node</code> or <code>npm</code> to your system's PATH variable.</p>","tags":["npm","tailwindcss","django","css"]},{"location":"2026-01-03-i-cant-install-taiwind-css-in-my-django-project-duplicate/#step-4-configure-tailwind-css","title":"Step 4: Configure Tailwind CSS","text":"<p>Configure Tailwind CSS by creating a <code>tailwind.config.js</code> file in your project root. This file will contain configuration settings for your project.</p> <pre><code>module.exports = {\n  content: [\n    './resources/css/**/*.css',\n    './resources/html/**/*.html',\n    './resources/templates/**/*.html',\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n}\n</code></pre>","tags":["npm","tailwindcss","django","css"]},{"location":"2026-01-03-i-cant-install-taiwind-css-in-my-django-project-duplicate/#conclusion","title":"Conclusion","text":"<p>By following these steps, you should be able to successfully install Tailwind CSS in your Django project. If you continue to encounter issues, ensure that NPM is properly installed and configured on your system.</p>","tags":["npm","tailwindcss","django","css"]},{"location":"2026-01-03-i-have-3-different-account-types-in-a-django-project-should-i-use-1-or-3-apps/","title":"Choosing the Right App Structure for Multiple Account Types in Django","text":"","tags":["Django app structure","multiple account types"]},{"location":"2026-01-03-i-have-3-different-account-types-in-a-django-project-should-i-use-1-or-3-apps/#core-problem","title":"Core Problem","text":"<p>When building a Django project with multiple account types, developers often face the dilemma of whether to create separate apps for each type or a single app. The decision is crucial as it affects the overall maintainability and scalability of the application.</p>","tags":["Django app structure","multiple account types"]},{"location":"2026-01-03-i-have-3-different-account-types-in-a-django-project-should-i-use-1-or-3-apps/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>In your case, you initially created three separate apps for Schools, professors, and users. However, you now feel that having multiple apps might be too much, especially when some models and views are repeated across account types. A common approach is to merge these accounts into a single app called \"accounts\" where each account type is represented as a subclass of a base model.</p>","tags":["Django app structure","multiple account types"]},{"location":"2026-01-03-i-have-3-different-account-types-in-a-django-project-should-i-use-1-or-3-apps/#step-1-define-the-base-model","title":"Step 1: Define the Base Model","text":"<p>Create a <code>base_account.py</code> file with a <code>BaseAccount</code> model that contains fields common to all account types, such as username and email. This will serve as the foundation for your separate account types. <pre><code># accounts/models/base_account.py\n\nfrom django.db import models\n\nclass BaseAccount(models.Model):\n    username = models.CharField(max_length=255)\n    email = models.EmailField(unique=True)\n\n    class Meta:\n        abstract = True\n</code></pre></p>","tags":["Django app structure","multiple account types"]},{"location":"2026-01-03-i-have-3-different-account-types-in-a-django-project-should-i-use-1-or-3-apps/#step-2-create-account-type-models","title":"Step 2: Create Account Type Models","text":"<p>Create separate classes for each account type (Schools, professors, and users) that inherit from the <code>BaseAccount</code> model. This will encapsulate the unique fields specific to each account type. <pre><code># accounts/models/school.py\n\nfrom .base_account import BaseAccount\n\nclass School(BaseAccount):\n    school_name = models.CharField(max_length=255)\n    school_code = models.CharField(max_length=10)\n\n# accounts/models/professor.py\n\nfrom .base_account import BaseAccount\n\nclass Professor(BaseAccount):\n    professor_title = models.CharField(max_length=50)\n    department = models.CharField(max_length=100)\n\n# accounts/models/user.py\n\nfrom .base_account import BaseAccount\n\nclass User(BaseAccount):\n    password = models.CharField(max_length=255)\n</code></pre></p>","tags":["Django app structure","multiple account types"]},{"location":"2026-01-03-i-have-3-different-account-types-in-a-django-project-should-i-use-1-or-3-apps/#step-3-create-the-accounts-app-and-register-models","title":"Step 3: Create the Accounts App and Register Models","text":"<p>Create an <code>accounts</code> app in your Django project and register the separate account type models. <pre><code># accounts/apps__init__.py\n\nfrom django.apps import AppConfig\nfrom .models import School, Professor, User\n\nclass AccountsConfig(AppConfig):\n    name = 'accounts'\n    verbose_name = 'Accounts'\n\n    def ready(self):\n        from django.db import migrations, models\n        from .models import School, Professor, User\n\n        # Register the models here\n        migrations.create_model(\n            self.get_model_root(),\n            'School',\n            fields=[\n                ('id', models.AutoField(primary_key=True)),\n                ('username', models.CharField(max_length=255)),\n                ('email', models.EmailField(unique=True)),\n                ('school_name', models.CharField(max_length=255)),\n                ('school_code', models.CharField(max_length=10)),\n            ],\n        )\n\n        migrations.create_model(\n            self.get_model_root(),\n            'Professor',\n            fields=[\n                ('id', models.AutoField(primary_key=True)),\n                ('username', models.CharField(max_length=255)),\n                ('email', models.EmailField(unique=True)),\n                ('professor_title', models.CharField(max_length=50)),\n                ('department', models.CharField(max_length=100)),\n            ],\n        )\n\n        migrations.create_model(\n            self.get_model_root(),\n            'User',\n            fields=[\n                ('id', models.AutoField(primary_key=True)),\n                ('username', models.CharField(max_length=255)),\n                ('email', models.EmailField(unique=True)),\n                ('password', models.CharField(max_length=255)),\n            ],\n        )\n</code></pre></p>","tags":["Django app structure","multiple account types"]},{"location":"2026-01-03-i-have-3-different-account-types-in-a-django-project-should-i-use-1-or-3-apps/#conclusion","title":"Conclusion","text":"<p>Merging multiple account types into a single app called \"accounts\" can be an effective approach for managing code duplication and maintainability. However, it's essential to consider the specific requirements of your project and weigh the pros and cons before making a decision.</p>","tags":["Django app structure","multiple account types"]},{"location":"2026-01-03-langgraph-seems-to-ignore-tool-outputs-with-gemini-models/","title":"LangGraph Ignores Tool Outputs with Gemini Models","text":"","tags":["langgraph","gemini","llm","tool outputs"]},{"location":"2026-01-03-langgraph-seems-to-ignore-tool-outputs-with-gemini-models/#core-problem","title":"Core Problem","text":"<p>The issue reported by the user is that when using a Gemini model with LangGraph, the LLM correctly invokes a tool but appears unable to interpret or process the tool's result. This problem persists even though the agent properly reads and identifies the target company in the document.</p>","tags":["langgraph","gemini","llm","tool outputs"]},{"location":"2026-01-03-langgraph-seems-to-ignore-tool-outputs-with-gemini-models/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To resolve this issue, we need to analyze the code and understand why the LangGraph is not processing the tool output. The provided code uses the <code>ToolNode</code> class from LangGraph to add tools to the agent graph. However, it seems that there might be an issue with how the tool outputs are being handled.</p> <p>One possible solution could be to modify the <code>process_node</code> function to handle the tool output correctly. We can do this by adding a condition to check if the <code>tool_calls</code> attribute of the last message is not empty and then iterating over each call to extract the result. Here's an updated version of the <code>process_node</code> function:</p> <pre><code>async def process_node(state: AgentState) -&gt; AgentState:\n    # ... (rest of the code remains the same)\n\n    if state.get(\"messages\", []) and hasattr(state[\"messages\"][-1], \"tool_calls\"):\n        tool_calls = state[\"messages\"][-1].tool_calls\n        for tc in tool_calls:\n            print(f\"      - {tc['name']}: {tc['args']}\")\n\n            # Extract the result from the tool output\n            result = tc.get(\"result\")\n            if result is not None:\n                # Process the result here\n                process_result(result)\n\n    return {\"messages\": [state[\"messages\"]]}\n</code></pre> <p>In this updated code, we're assuming that each tool call returns a <code>result</code> attribute. We can modify this to match the actual format of the tool output.</p>","tags":["langgraph","gemini","llm","tool outputs"]},{"location":"2026-01-03-langgraph-seems-to-ignore-tool-outputs-with-gemini-models/#conclusion","title":"Conclusion","text":"<p>By modifying the <code>process_node</code> function to handle the tool output correctly, we should be able to resolve the issue and get the LangGraph to process the tool outputs as expected.</p>","tags":["langgraph","gemini","llm","tool outputs"]},{"location":"2026-01-03-place-a-link-tag-in-the-html-head-tag/","title":"Using the Title","text":"","tags":["dash","html","link tag"]},{"location":"2026-01-03-place-a-link-tag-in-the-html-head-tag/#core-problem","title":"Core Problem","text":"<p>When building web applications with Dash, adding meta tags to the head section is straightforward. However, linking external resources using the  tag in the same way can be tricky.</p>","tags":["dash","html","link tag"]},{"location":"2026-01-03-place-a-link-tag-in-the-html-head-tag/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To add a link tag to the HTML head section with Dash, you need to create an HTML Link element and specify its href attribute. You can do this by creating a custom component that wraps the Link element.</p>","tags":["dash","html","link tag"]},{"location":"2026-01-03-place-a-link-tag-in-the-html-head-tag/#example-code","title":"Example Code","text":"<pre><code>from dash import Dash, html\n\napp = Dash(\n    __name__, \n    meta_tags= [\n        dict(name = 'description', content = 'Description of the site'),\n        {'http-equiv':'content-language', 'content':'pt-br'},\n        {'http-equiv':'Link', 'content':\"\"\"&lt;https://example.com&gt;;rel=\"\"canonical\"\"\"\"},\n    ]\n)\n\napp.layout = [\n    html.Header(\n        # Create a custom Link component\n        html.Link(href='https://example.com', rel='canonical')\n    ),\n    html.P('Some text')\n]\n\n# Create a custom Link component with the link tag\nclass CustomLink(html.A):\n    def __init__(self, href, **props):\n        super(CustomLink, self).__init__(href, **props)\n        self.props['rel'] = 'canonical'\n\napp.layout = [\n    html.Header(\n        CustomLink(href='https://example.com', rel='canonical')\n    ),\n    html.P('Some text')\n]\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>","tags":["dash","html","link tag"]},{"location":"2026-01-03-place-a-link-tag-in-the-html-head-tag/#explanation","title":"Explanation","text":"<p>In this example, we create a custom Link component called <code>CustomLink</code> that inherits from Dash's <code>html.A</code>. We override the <code>props</code> method to add the <code>rel</code> attribute with the value 'canonical'. This allows us to specify the link tag in our HTML head section.</p>","tags":["dash","html","link tag"]},{"location":"2026-01-03-place-a-link-tag-in-the-html-head-tag/#conclusion","title":"Conclusion","text":"<p>By using a custom Link component, you can easily add the  tag to your HTML head section with Dash. Remember to specify the href and rel attributes correctly to achieve the desired effect.</p>","tags":["dash","html","link tag"]},{"location":"2026-01-03-propagating-logginglogger-from-module-to-single-log-file-closed/","title":"Propagating Logging from Multiple Modules to a Single Log File","text":"","tags":["Python Logging","Module-Specific Logging","Centralized Logging"]},{"location":"2026-01-03-propagating-logginglogger-from-module-to-single-log-file-closed/#core-problem","title":"Core Problem","text":"<p>In a multi-module project, it's often necessary to log events and errors in different modules. However, when logging is set up independently in each module, the logs may not be propagated to a central location, such as a single log file. In this case, only the logs from the main script are written to the log file.</p>","tags":["Python Logging","Module-Specific Logging","Centralized Logging"]},{"location":"2026-01-03-propagating-logginglogger-from-module-to-single-log-file-closed/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>To propagate logging from multiple modules to a single log file, we need to configure the logger to use a root logger that is shared by all modules. Here's an updated version of the <code>script.py</code> and <code>utils.py</code> files:</p> <pre><code># script.py\nimport logging\nfrom utils.utils import load_query\n\n# Set up the root logger\nlogging.basicConfig(filename='etl.log', level=logging.INFO)\n\nlogger = logging.getLogger(__name__)\n\ndef main():\n    logger.info(\"Starting\")\n    load_query()\n    logger.info(\"Finished\")\n\nif __name__ == \"__main__\":\n    main()\n</code></pre> <pre><code># utils/utils.py\nimport logging\n\n# Get the root logger and set its name to 'utils'\nlogger = logging.getLogger('utils')\nlogger.setLevel(logging.INFO)\n\n# Create a file handler for logging to etl.log\nfile_handler = logging.FileHandler('etl.log')\nlogger.addHandler(file_handler)\n</code></pre> <p>In this updated version, we've created a <code>main</code> function in the <code>script.py</code> file that serves as the entry point for our application. We set up the root logger using the <code>basicConfig</code> function from the <code>logging</code> module, which specifies the log file and level.</p> <p>In the <code>utils.py</code> file, we get the root logger using <code>logging.getLogger('utils')</code>, set its name to <code>'utils'</code>, and add a file handler for logging to the same <code>etl.log</code> file. This ensures that logs from all modules are propagated to the central log file.</p>","tags":["Python Logging","Module-Specific Logging","Centralized Logging"]},{"location":"2026-01-03-propagating-logginglogger-from-module-to-single-log-file-closed/#conclusion","title":"Conclusion","text":"<p>By configuring the logger to use a shared root logger, we can propagate logging from multiple modules to a single log file. This provides a centralized location for logging events and errors in our application, making it easier to monitor and diagnose issues.</p>","tags":["Python Logging","Module-Specific Logging","Centralized Logging"]},{"location":"2026-01-03-retrieving-private-attributes-from-a-class-closed/","title":"Retrieving Private Attributes in Python","text":"","tags":["private attributes","getter","setter","Python best practices"]},{"location":"2026-01-03-retrieving-private-attributes-from-a-class-closed/#core-problem","title":"Core Problem","text":"<p>In Python, private attributes are intended to be accessed only through the class's methods, specifically through the use of double underscore prefix (<code>__</code>) and the <code>@property</code> decorator. However, there is a common question about whether it makes sense to retrieve private attributes directly.</p>","tags":["private attributes","getter","setter","Python best practices"]},{"location":"2026-01-03-retrieving-private-attributes-from-a-class-closed/#solution-analysis","title":"Solution &amp; Analysis","text":"<pre><code>class Person:\n    def __init__(self, name, surname):\n        self.__name = name\n        self.__surname = surname\n\n    @property\n    def name(self):\n        print(\"Retrieving private attribute (getter)\")\n        return self.__name\n\n    @name.setter\n    def name(self, m):\n        if isinstance(m, str) and len(m) &gt; 0:\n            self.__name = m\n        else:\n            print(\"Error: Must be a text with letters!\")\n            print(\"Name changed\")\n        #self.m = self.__name + self.__surname\n\n    def show(self):\n        print('Miss: ', self.__name, self.__surname)\n\nos = Person('Alexandra', 'Houston')  # object storing a person\nos.name = 'Elizabeth'\nprint(os.name)\nos.show()\n</code></pre> <p>Analysis: The use of <code>@property</code> and <code>@setter</code> allows for controlled access to private attributes. However, directly accessing private attributes through the class's namespace can lead to unexpected behavior.</p> <pre><code># Directly accessing private attribute through the class's namespace\n# is discouraged in Python best practices.\nclass Person:\n    def __init__(self, name, surname):\n        self.__name = name\n        self.__surname = surname\n\np = Person('Alexandra', 'Houston')\nprint(p.__name)  # Raises AttributeError: 'Person' object has no attribute '__name'\n</code></pre> <p>Alternative Way: If you want to retrieve private attributes, consider using the <code>__dict__</code> attribute of an object. However, this approach is generally discouraged as it bypasses Python's access control mechanism.</p> <pre><code>class Person:\n    def __init__(self, name, surname):\n        self.__name = name\n        self.__surname = surname\n\np = Person('Alexandra', 'Houston')\nprint(p.__dict__)  # Prints: {'__name': 'Alexandra', '__surname': 'Houston'}\n</code></pre> <p>Best Practice: In general, it's recommended to stick with the <code>@property</code> and <code>@setter</code> approach for accessing private attributes. This ensures that access is controlled and follows Python best practices.</p>","tags":["private attributes","getter","setter","Python best practices"]},{"location":"2026-01-03-retrieving-private-attributes-from-a-class-closed/#conclusion","title":"Conclusion","text":"<p>In summary, while it's technically possible to retrieve private attributes directly, it's generally discouraged in favor of using <code>@property</code> and <code>@setter</code>. This approach provides better control over access to private attributes and follows Python best practices.</p>","tags":["private attributes","getter","setter","Python best practices"]},{"location":"2026-01-03-what-scipy-function-to-use-to-estimate-this-2d-problem-with-rotation-translation-and-scale/","title":"Estimating 2D Rotation, Translation, and Scale with Python's SciPy","text":"","tags":["Least Squares Optimization","SciPy Functions","2D Transformation Model"]},{"location":"2026-01-03-what-scipy-function-to-use-to-estimate-this-2d-problem-with-rotation-translation-and-scale/#core-problem","title":"Core Problem","text":"<p>Fixing a grid with known nodes (u,v) and observed coordinates (x,y) with sigma for each point using python. The model is x,y = f(u,v) : x = xl + uccos(a) - vcsin(a), y = yl + ucsin(a) + vccos(a). We want to estimate xl, yl, c and a, using python least squares.</p>","tags":["Least Squares Optimization","SciPy Functions","2D Transformation Model"]},{"location":"2026-01-03-what-scipy-function-to-use-to-estimate-this-2d-problem-with-rotation-translation-and-scale/#solution-analysis","title":"Solution &amp; Analysis","text":"<p>We can use the <code>scipy.optimize.least_squares</code> function to solve this problem. This function is suitable for nonlinear least squares problems, where the objective function is not linear in the variables.</p> <pre><code>import numpy as np\nfrom scipy import optimize\nimport matplotlib.pyplot as plt\n\n# Define the model\ndef func(params, u, v):\n    xl, yl, c, a = params\n    return (xl + u*c*np.cos(a) - v*c*np.sin(a) - x) / sigma, (yl + u*c*np.sin(a) + v*c*np.cos(a) - y) / sigma\n\n# Define the initial parameters\nparams0 = [10000.0, 20000.0, 700.00, 3.000]\n\n# Define the observations\nx_obs = [-79055.6, -81032.2, -83007.5, -84980.8, -86964.5,\n         -113710.4, -115682.6, -117657.9, -119632.2, -121610.9]\ny_obs = [-108720.7, -122577.8, -136440.7, -150304.5, -164160.7,\n         -103788.9, -117643.3, -131497.5, -145362.1, -159218.0]\nsigma = np.array([1.0, 2.7, 0.5, 4.9, 7.2, 8.6, 4.5, 3.7, 2.6, 3.5])\n\n# Create the design matrix\nu, v = np.meshgrid(np.linspace(100, 150), np.linspace(200, 280))\ndesign_matrix = np.array([xl + u*c*np.cos(a) - v*c*np.sin(a) for xl in [10000.0] * len(u)\n                           for yl in [20000.0] * len(v) for c in [700.00] * len(u)\n                           for a in [3.000] * len(v)])\n\n# Define the function to minimize\ndef func_to_minimize(params):\n    return np.sum((design_matrix[:, None, None] - x_obs[None, :, None]) / sigma[None, :, None])**2\n\n# Perform least squares optimization\nres = optimize.least_squares(func_to_minimize, params0)\n\n# Print the results\nprint(\"Estimated parameters:\", res.x)\nprint(\"Residuals:\", res.fun)\n</code></pre>","tags":["Least Squares Optimization","SciPy Functions","2D Transformation Model"]},{"location":"2026-01-03-what-scipy-function-to-use-to-estimate-this-2d-problem-with-rotation-translation-and-scale/#conclusion","title":"Conclusion","text":"<p>In this example, we used <code>scipy.optimize.least_squares</code> to estimate the parameters of a 2D transformation model. We defined the model as x,y = f(u,v) and created a design matrix for the observations. The function to minimize is the sum of the squared residuals. The results are printed out, including the estimated parameters and the residual sum.</p>","tags":["Least Squares Optimization","SciPy Functions","2D Transformation Model"]}]}